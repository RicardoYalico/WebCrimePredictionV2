<div class="card" >
  <div class="card-header d-flex justify-content-end align-content-end align-items-end">
    <button type="button" (click)="hiddenLeftPanel=false" class="btn-close " aria-label="Close"></button>
  </div>
  <!-- First row: Image and search bar -->
  <div class="position-relative">
    <img id="photo" src="" appNotImage class="card-img-top" alt="...">
    <div class="position-absolute top-50 start-50 translate-middle w-75">
      <!--            <input id="pac-input" type="text" class="form-control" [(ngModel)]="pac_input" placeholder="Search...">-->
    </div>

  </div>
  <!-- Second row: Icons and information -->

  <div class="card-body">

    <div class="d-flex align-items-center mb-3">

      <i class="bi bi-geo-alt-fill me-2"></i>
      <div class="spinner-border spinner-border-sm" role="status" *ngIf="loading">
        <span class="sr-only"></span>
      </div>
      <span>{{this.formated_address}}</span>
    </div>
    <div class="d-flex align-items-center">
      <i class="bi bi-compass me-2"></i>
      <span id="latLng"></span>
    </div>
  </div>
  <!-- Third row: Comments list -->
  <div class="card-footer">
    <div class="">
      <h5 class="card-title">Delitos cercanos</h5>
    </div>
    <div class="list-group">
      <div class="list-group-item" *ngFor="let crime of crimesToShow">
        <div class="d-flex justify-content-between">
          <h6 class="mb-1">{{ crime.generico }}</h6>
          <small>{{ crime.date | date: 'yyyy' }}</small>
        </div>
        <p class="mb-1"><strong>Descripción:</strong> {{ crime.generico }} - {{ crime.modalidad }}</p>
        <p class="mb-1"><strong>UBIGEO:</strong> {{ crime.ubigeo }}</p>
        <p class="mb-1"><strong>Plus Code:</strong> {{ crime.plus_code }}</p>
        <p class="mb-1"><strong>ID del reporte:</strong> {{ crime.ID }}</p>
      </div>
    </div>
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">Reportes cercanos</h5>
      <div>
        <i class="bi bi-arrow-clockwise me-3"></i>
        <i class="bi bi-plus" (click)="openFormReportModal()"></i>
      </div>
    </div>

    <div class="list-group">
      <div class="list-group-item" *ngFor="let report of reportsToShow">
        <div class="d-flex justify-content-between">
          <h6 class="mb-1">{{ report.title }}</h6>
          <small>{{ report.date  }}</small>
        </div>
        <p class="mb-1"><strong>Descripción:</strong> {{ report.description }}</p>
        <p class="mb-1"><strong>Plus Code:</strong> {{ report.plus_code }}</p>
        <p class="mb-1"><strong>ID del reporte:</strong> {{ report.ID }}</p>

      </div>
    </div>
  </div>
</div>

<app-incidence-form #IncidenceModalForm ></app-incidence-form>

